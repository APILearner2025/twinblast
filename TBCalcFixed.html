<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Twinblast Damage Calculator</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #fff;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(30, 30, 46, 0.8);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #4cc9f0;
        }
        
        h1 {
            font-size: 2.5rem;
            color: #4cc9f0;
            text-shadow: 0 0 10px rgba(76, 201, 240, 0.5);
            margin-bottom: 10px;
        }
        
        h2 {
            font-size: 1.8rem;
            color: #f72585;
            margin: 20px 0 15px;
        }
        
        h3 {
            font-size: 1.4rem;
            color: #7209b7;
            margin: 15px 0 10px;
        }
        
        .hero-info {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .hero-image {
            width: 100px;
            height: 100px;
            background: linear-gradient(45deg, #4361ee, #3a0ca3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            box-shadow: 0 0 15px rgba(67, 97, 238, 0.7);
        }
        
        .item-slots {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .slot {
            background: rgba(26, 26, 46, 0.8);
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            border: 2px solid #4361ee;
        }
        
        .slot-title {
            font-size: 1.2rem;
            color: #4cc9f0;
            margin-bottom: 10px;
            text-align: center;
        }
        
        select {
            width: 100%;
            padding: 10px;
            border-radius: 5px;
            background: #1a1a2e;
            color: white;
            border: 1px solid #4361ee;
            margin-bottom: 10px;
        }
        
        .item-stats {
            margin-top: 10px;
            font-size: 0.9rem;
            color: #f1faee;
        }
        
        .item-stats div {
            margin-bottom: 5px;
        }
        
        .damage-calculations {
            background: rgba(26, 26, 46, 0.8);
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            border: 2px solid #f72585;
        }
        
        .damage-type {
            margin-bottom: 15px;
            padding: 10px;
            background: rgba(58, 12, 163, 0.2);
            border-radius: 5px;
        }
        
        .damage-value {
            font-size: 1.2rem;
            color: #4cc9f0;
            font-weight: bold;
        }
        
        .ability-desc {
            font-size: 0.9rem;
            color: #a8dadc;
            margin-top: 5px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .stat-card {
            background: rgba(67, 97, 238, 0.2);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.5rem;
            color: #f72585;
            font-weight: bold;
        }
        
        .stat-name {
            font-size: 0.9rem;
            color: #a8dadc;
        }
        
        .effects-list {
            margin-top: 10px;
            padding-left: 20px;
            font-size: 0.9rem;
            color: #f1faee;
        }
        
        .effects-list li {
            margin-bottom: 5px;
        }
        
        .legendary {
            color: gold;
            font-weight: bold;
        }
        
        .update-button {
            display: block;
            width: 100%;
            padding: 15px;
            background: linear-gradient(45deg, #f72585, #b5179e);
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1.2rem;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
        }
        
        .update-button:hover {
            background: linear-gradient(45deg, #b5179e, #f72585);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(247, 37, 133, 0.4);
        }
        
        @media (max-width: 768px) {
            .item-slots {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Twinblast Damage Calculator</h1>
            <div class="hero-info">
                <div class="hero-image">TB</div>
                <div class="hero-description">
                    <p>Calculate Twinblast's damage output with different items and levels</p>
                </div>
            </div>
        </header>
        
        <h2>Item Selection</h2>
        <div class="item-slots">
            <div class="slot">
                <div class="slot-title">Crest Slot</div>
                <select id="crest-slot">
                    <option value="">Select Crest</option>
                    <option value="WarlockCrest">Warlock Crest</option>
                    <option value="RogueCrest">Rogue Crest</option>
                    <option value="OccultCrest">Occult Crest</option>
                    <option value="AssassinCrest">Assassin Crest</option>
                    <option value="SharpshooterCrest">Sharpshooter Crest</option>
                    <option value="ChampionCrest">Champion Crest</option>
                    <option value="WarriorCrest">Warrior Crest</option>
                    <option value="ConsortCrest">Consort Crest</option>
                    <option value="MarksmanCrest">Marksman Crest</option>
                    <option value="GuardianCrest">Guardian Crest</option>
                    <option value="TitanCrest">Titan Crest</option>
                    <option value="MagicianCrest">Magician Crest</option>
                    <option value="WizardCrest">Wizard Crest</option>
                    <option value="KeeperCrest">Keeper Crest</option>
                    <option value="WardenCrest">Warden Crest</option>
                    <option value="GoliathCrest">Goliath Crest</option>
                </select>
                <div class="item-stats" id="crest-slot-stats"></div>
            </div>
            
            <div class="slot">
                <div class="slot-title">Slot Option 1</div>
                <select id="slot1">
                    <option value="">Select Item</option>
                </select>
                <div class="item-stats" id="slot1-stats"></div>
            </div>
            
            <div class="slot">
                <div class="slot-title">Slot Option 2</div>
                <select id="slot2">
                    <option value="">Select Item</option>
                </select>
                <div class="item-stats" id="slot2-stats"></div>
            </div>
            
            <div class="slot">
                <div class="slot-title">Slot Option 3</div>
                <select id="slot3">
                    <option value="">Select Item</option>
                </select>
                <div class="item-stats" id="slot3-stats"></div>
            </div>
            
            <div class="slot">
                <div class="slot-title">Slot Option 4</div>
                <select id="slot4">
                    <option value="">Select Item</option>
                </select>
                <div class="item-stats" id="slot4-stats"></div>
            </div>
            
            <div class="slot">
                <div class="slot-title">Slot Option 5</div>
                <select id="slot5">
                    <option value="">Select Item</option>
                </select>
                <div class="item-stats" id="slot5-stats"></div>
            </div>
            
            <div class="slot">
                <div class="slot-title">Slot Option 6</div>
                <select id="slot6">
                    <option value="">Select Item</option>
                </select>
                <div class="item-stats" id="slot6-stats"></div>
            </div>
            
            <div class="slot">
                <div class="slot-title">Level</div>
                <select id="level">
                    <option value="1">Level 1</option>
                    <option value="2">Level 2</option>
                    <option value="3">Level 3</option>
                    <option value="4">Level 4</option>
                    <option value="5">Level 5</option>
                    <option value="6">Level 6</option>
                    <option value="7">Level 7</option>
                    <option value="8">Level 8</option>
                    <option value="9">Level 9</option>
                    <option value="10">Level 10</option>
                    <option value="11">Level 11</option>
                    <option value="12">Level 12</option>
                    <option value="13">Level 13</option>
                    <option value="14">Level 14</option>
                    <option value="15">Level 15</option>
                    <option value="16">Level 16</option>
                    <option value="17">Level 17</option>
                    <option value="18" selected>Level 18</option>
                </select>
                <div class="item-stats" id="level-stats"></div>
            </div>
        </div>
        
        <button class="update-button" onclick="calculateDamage()">Calculate Damage</button>
        
        <div class="damage-calculations">
            <h2>Damage Calculations</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="physical-power">0</div>
                    <div class="stat-name">Physical Power</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="attack-speed">0%</div>
                    <div class="stat-name">Attack Speed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="critical-chance">0%</div>
                    <div class="stat-name">Critical Chance</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="physical-pen">0</div>
                    <div class="stat-name">Physical Penetration</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="lifesteal">0%</div>
                    <div class="stat-name">Lifesteal</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="ability-haste">0</div>
                    <div class="stat-name">Ability Haste</div>
                </div>
            </div>
            
            <h3>Active Effects from Items</h3>
            <ul class="effects-list" id="active-effects">
                <li>No active effects</li>
            </ul>
            
            <h3>Ability Damage</h3>
            
            <div class="damage-type">
                <h4>Passive: Gunslinger</h4>
                <div class="damage-value" id="passive-damage">0</div>
                <div class="ability-desc">After using an ability, next 2 basic attacks gain 40% increased Attack Speed</div>
            </div>
            
            <div class="damage-type">
                <h4>Basic Attack (2 projectiles)</h4>
                <div class="damage-value" id="basic-damage">0</div>
                <div class="ability-desc">Each projectile deals 30 + 47.5% Physical Power (on-hit effects at 50% effectiveness)</div>
            </div>
            
            <div class="damage-type">
                <h4>Alternate: Vortex Grenade</h4>
                <div class="damage-value" id="grenade-damage">0</div>
                <div class="ability-desc">Deals magical damage in an area and slows enemies</div>
            </div>
            
            <div class="damage-type">
                <h4>Primary: Vaporize</h4>
                <div class="damage-value" id="vaporize-damage">0</div>
                <div class="ability-desc">Fires two piercing projectiles that deal physical damage</div>
            </div>
            
            <div class="damage-type">
                <h4>Secondary: Rocket Dash</h4>
                <div class="damage-value" id="dash-damage">0</div>
                <div class="ability-desc">Dash ability with no direct damage</div>
            </div>
            
            <div class="damage-type">
                <h4>Ultimate: Ventilate</h4>
                <div class="damage-value" id="ultimate-damage">0</div>
                <div class="ability-desc">Unleashes a barrage of bullets over 3 seconds</div>
            </div>
            
            <div class="damage-type">
                <h4>On-Hit Effects</h4>
                <div class="damage-value" id="onhit-damage">0</div>
                <div class="ability-desc">Total additional damage from on-hit effects</div>
            </div>
        </div>
    </div>

    <script>
        // Twinblast base stats per level (accurate values)
        const twinblastStats = {
            1: { 
                physicalPower: 60, 
                attackSpeed: 125, 
                criticalChance: 0, 
                physicalPenetration: 0, 
                lifesteal: 0, 
                abilityHaste: 0,
                maxHealth: 710,
                maxMana: 310,
                healthRegen: 0.9,
                manaRegen: 1.4,
                movementSpeed: 670
            },
            2: { 
                physicalPower: 63.2, 
                attackSpeed: 127, 
                criticalChance: 0, 
                physicalPenetration: 0, 
                lifesteal: 0, 
                abilityHaste: 0,
                maxHealth: 830,
                maxMana: 355,
                healthRegen: 1.05,
                manaRegen: 1.52,
                movementSpeed: 670
            },
            3: { 
                physicalPower: 66.4, 
                attackSpeed: 129, 
                criticalChance: 0, 
                physicalPenetration: 0, 
                lifesteal: 0, 
                abilityHaste: 0,
                maxHealth: 950,
                maxMana: 400,
                healthRegen: 1.2,
                manaRegen: 1.64,
                movementSpeed: 670
            },
            4: { 
                physicalPower: 69.6, 
                attackSpeed: 131, 
                criticalChance: 0, 
                physicalPenetration: 0, 
                lifesteal: 0, 
                abilityHaste: 0,
                maxHealth: 1070,
                maxMana: 445,
                healthRegen: 1.35,
                manaRegen: 1.76,
                movementSpeed: 670
            },
            5: { 
                physicalPower: 72.8, 
                attackSpeed: 133, 
                criticalChance: 0, 
                physicalPenetration: 0, 
                lifesteal: 0, 
                abilityHaste: 0,
                maxHealth: 1190,
                maxMana: 490,
                healthRegen: 1.5,
                manaRegen: 1.88,
                movementSpeed: 670
            },
            6: { 
                physicalPower: 76.0, 
                attackSpeed: 135, 
                criticalChance: 0, 
                physicalPenetration: 0, 
                lifesteal: 0, 
                abilityHaste: 0,
                maxHealth: 1310,
                maxMana: 535,
                healthRegen: 1.65,
                manaRegen: 2.0,
                movementSpeed: 670
            },
            7: { 
                physicalPower: 79.2, 
                attackSpeed: 137, 
                criticalChance: 0, 
                physicalPenetration: 0, 
                lifesteal: 0, 
                abilityHaste: 0,
                maxHealth: 1430,
                maxMana: 580,
                healthRegen: 1.8,
                manaRegen: 2.12,
                movementSpeed: 670
            },
            8: { 
                physicalPower: 82.4, 
                attackSpeed: 139, 
                criticalChance: 0, 
                physicalPenetration: 0, 
                lifesteal: 0, 
                abilityHaste: 0,
                maxHealth: 1550,
                maxMana: 625,
                healthRegen: 1.95,
                manaRegen: 2.24,
                movementSpeed: 670
            },
            9: { 
                physicalPower: 85.6, 
                attackSpeed: 141, 
                criticalChance: 0, 
                physicalPenetration: 0, 
                lifesteal: 0, 
                abilityHaste: 0,
                maxHealth: 1670,
                maxMana: 670,
                healthRegen: 2.1,
                manaRegen: 2.36,
                movementSpeed: 670
            },
            10: { 
                physicalPower: 88.8, 
                attackSpeed: 143, 
                criticalChance: 0, 
                physicalPenetration: 0, 
                lifesteal: 0, 
                abilityHaste: 0,
                maxHealth: 1790,
                maxMana: 715,
                healthRegen: 2.25,
                manaRegen: 2.48,
                movementSpeed: 670
            },
            11: { 
                physicalPower: 92.0, 
                attackSpeed: 145, 
                criticalChance: 0, 
                physicalPenetration: 0, 
                lifesteal: 0, 
                abilityHaste: 0,
                maxHealth: 1910,
                maxMana: 760,
                healthRegen: 2.4,
                manaRegen: 2.6,
                movementSpeed: 670
            },
            12: { 
                physicalPower: 95.2, 
                attackSpeed: 147, 
                criticalChance: 0, 
                physicalPenetration: 0, 
                lifesteal: 0, 
                abilityHaste: 0,
                maxHealth: 2030,
                maxMana: 805,
                healthRegen: 2.55,
                manaRegen: 2.72,
                movementSpeed: 670
            },
            13: { 
                physicalPower: 98.4, 
                attackSpeed: 149, 
                criticalChance: 0, 
                physicalPenetration: 0, 
                lifesteal: 0, 
                abilityHaste: 0,
                maxHealth: 2150,
                maxMana: 850,
                healthRegen: 2.7,
                manaRegen: 2.84,
                movementSpeed: 670
            },
            14: { 
                physicalPower: 101.6, 
                attackSpeed: 151, 
                criticalChance: 0, 
                physicalPenetration: 0, 
                lifesteal: 0, 
                abilityHaste: 0,
                maxHealth: 2270,
                maxMana: 895,
                healthRegen: 2.85,
                manaRegen: 2.96,
                movementSpeed: 670
            },
            15: { 
                physicalPower: 104.8, 
                attackSpeed: 153, 
                criticalChance: 0, 
                physicalPenetration: 0, 
                lifesteal: 0, 
                abilityHaste: 0,
                maxHealth: 2390,
                maxMana: 940,
                healthRegen: 3.0,
                manaRegen: 3.08,
                movementSpeed: 670
            },
            16: { 
                physicalPower: 108.0, 
                attackSpeed: 155, 
                criticalChance: 0, 
                physicalPenetration: 0, 
                lifesteal: 0, 
                abilityHaste: 0,
                maxHealth: 2510,
                maxMana: 985,
                healthRegen: 3.15,
                manaRegen: 3.2,
                movementSpeed: 670
            },
            17: { 
                physicalPower: 111.2, 
                attackSpeed: 157, 
                criticalChance: 0, 
                physicalPenetration: 0, 
                lifesteal: 0, 
                abilityHaste: 0,
                maxHealth: 2630,
                maxMana: 1030,
                healthRegen: 3.3,
                manaRegen: 3.32,
                movementSpeed: 670
            },
            18: { 
                physicalPower: 114.4, 
                attackSpeed: 159, 
                criticalChance: 0, 
                physicalPenetration: 0, 
                lifesteal: 0, 
                abilityHaste: 0,
                maxHealth: 2750,
                maxMana: 1075,
                healthRegen: 3.45,
                manaRegen: 3.44,
                movementSpeed: 670
            }
        };

        // Ability scaling factors (accurate values)
        const abilityScaling = {
            basic: 0.475,    // 47.5% of physical power per projectile (2 projectiles per attack)
            grenade: 0.55,   // 55% of physical power
            vaporize: 0.40,  // 40% of physical power per projectile (2 projectiles)
            ultimate: 0.09   // 9% of physical power per bullet
        };

        // Base ability damages (max level values)
        const baseDamage = {
            basic: 30,          // per projectile
            grenade: 125,       // Vortex Grenade at max level
            vaporize: 135,      // per projectile at max level
            ultimate: 24        // per bullet at max level
        };

        // Items data (cleaned up and fixed)
        const items = [
            { name: "AbyssalBracers", stats: { physicalPower: 25, health: 200 }, effects: ["Grants bonus health based on missing mana"] },
            { name: "Absolution", stats: { physicalPower: 40, attackSpeed: 25, magicalArmor: 35, tenacity: 20 }, effects: ["Damage mitigation and movement speed boost"] },
            { name: "AegisOfAgawar", stats: { physicalPower: 20, health: 400, criticalChance: 15 }, effects: ["Gain bonus armor based on health"] },
            { name: "AlchemicalRod", stats: { magicalPower: 20, mana: 150 }, effects: ["Gain max mana on camp leader kills"] },
            { name: "Ashbringer", stats: { physicalPower: 40, attackSpeed: 25, criticalChance: 20, abilityHaste: 10 }, effects: ["Reduces non-ultimate cooldowns on hit"] },
            { name: "AstralCatalyst", stats: { magicalPower: 80, mana: 250, abilityHaste: 20 }, effects: ["Reduces ultimate cooldown"] },
            { name: "Augmentation", stats: { physicalPower: 35, attackSpeed: 20, health: 225, abilityHaste: 16 }, effects: ["Empowers next basic attack"] },
            { name: "AzureCore", stats: { magicalPower: 65, mana: 350, abilityHaste: 15 }, effects: ["Grants shield based on mana"] },
            { name: "BandedEmerald", stats: { health: 250 }, effects: ["Basic health item"] },
            { name: "BarbaricCleaver", stats: { physicalPower: 25 }, effects: ["Deals splash damage on basic attacks"] },
            { name: "BarbedPauldron", stats: { physicalArmor: 25 }, effects: ["Reduces attacker's attack speed"] },
            { name: "Basilisk", stats: { physicalPower: 40, health: 300, abilityHaste: 20 }, effects: ["Reduces target's physical armor"] },
            { name: "BerserkersAxe", stats: { physicalPower: 40, health: 300, abilityHaste: 15, movementSpeed: 3 }, effects: ["Empowers next basic attack and grants movement speed"] },
            { name: "BloodTome", stats: { magicalPower: 25, magicalLifesteal: 5 }, effects: ["Basic magical lifesteal item"] },
            { name: "Bloodlust", stats: { physicalPower: 20, omnivamp: 4 }, effects: ["Basic omnivamp item"] },
            { name: "Boneseeker", stats: { physicalPower: 30, physicalPenetration: 8 }, effects: ["Increases damage against low health targets"] },
            { name: "Bonesaw", stats: { attackSpeed: 35, physicalPenetration: 10 }, effects: ["Shreds armor on hit"] },
            { name: "Breach", stats: { physicalPower: 45, abilityHaste: 15 }, effects: ["Ignores portion of target's armor"] },
            { name: "Brimstone", stats: { health: 250 }, effects: ["Deals damage over time to nearby enemies"] },
            { name: "Brutallax", stats: { physicalPower: 12, health: 100, omnivamp: 4 }, effects: ["Cleanse debuffs and gain tenacity"] },
            { name: "Caustica", stats: { magicalPower: 70, baseManaRegeneration: 75 }, effects: ["Ignores portion of magical armor"] },
            { name: "CeruleanStone", stats: { physicalArmor: 20, baseManaRegeneration: 75 }, effects: ["Basic armor and mana regen item"] },
            { name: "ChaoticCore", stats: { magicalPower: 25, health: 150 }, effects: ["Grants random stat bonuses"] },
            { name: "ChronomaticWand", stats: { magicalPower: 30, abilityHaste: 8 }, effects: ["Reduces ability cooldowns"] },
            { name: "Citadel", stats: { physicalPower: 40, health: 250, physicalArmor: 35 }, effects: ["Reduces nearby enemies' armor"] },
            { name: "Claymore", stats: { physicalPower: 20, criticalChance: 12 }, effects: ["Basic critical chance item"] },
            { name: "Codex", stats: { magicalPower: 12 }, effects: ["Basic magical power item"] },
            { name: "Combustion", stats: { magicalPower: 75, magicalPenetration: 8, mana: 400 }, effects: ["Deals area damage on ability hit"] },
            { name: "CompositeBow", stats: { attackSpeed: 15 }, effects: ["Deals bonus damage on hit"] },
            { name: "Crescelia", stats: { magicalPower: 50, baseManaRegeneration: 125, abilityHaste: 20 }, effects: ["Empowers next basic attack and reduces cooldowns"] },
            { name: "CrimsonEdge", stats: { physicalPower: 15, lifesteal: 5 }, effects: ["Basic lifesteal item"] },
            { name: "Crossbow", stats: { criticalChance: 10 }, effects: ["Basic critical chance item"] },
            { name: "CrystalTear", stats: { magicalPower: 40, abilityHaste: 10, baseManaRegeneration: 150, healAndShieldPower: 10 }, effects: ["Grants bonus power to nearby allies"] },
            { name: "CrystallineCuirass", stats: { health: 325, magicalArmor: 50 }, effects: ["Grants stacking magical armor"] },
            { name: "Deathstalker", stats: { physicalPower: 40, physicalPenetration: 5, attackSpeed: 25 }, effects: ["Shreds armor on hit and grants attack speed"] },
            { name: "Demolifier", stats: { physicalPower: 35, criticalChance: 20 }, effects: ["Ignores portion of armor"] },
            { name: "DemonEdge", stats: { physicalPower: 40, physicalPenetration: 8, health: 200, abilityHaste: 10 }, effects: ["Grants movement speed and bonus damage"] },
            { name: "DustDevil", stats: { physicalPower: 30, attackSpeed: 25, criticalChance: 20, movementSpeed: 4 }, effects: ["Grants stacking attack speed and movement speed"] },
            { name: "Equinox", stats: { physicalPower: 20, attackSpeed: 30, criticalChance: 20 }, effects: ["Deals bonus damage on hit and grants shield"] },
            { name: "Eviscerator", stats: { physicalPower: 12, attackSpeed: 20, lifesteal: 7 }, effects: ["Grants attack speed and omnivamp"] },
            { name: "Fenix", stats: { physicalPower: 55, lifesteal: 12 }, effects: ["Revives upon death with portion of health"] },
            { name: "Greatsword", stats: { physicalPower: 30 }, effects: ["Basic physical power item"] },
            { name: "HallowedBraid", stats: { physicalPower: 35, lifesteal: 10 }, effects: ["Heals based on damage dealt"] },
            { name: "HonedKris", stats: { physicalPower: 20, physicalPenetration: 3 }, effects: ["Basic physical penetration item"] },
            { name: "Hunt", stats: { physicalPower: 15, attackSpeed: 10 }, effects: ["Deals bonus damage to monsters"] },
            { name: "IceskornTalons", stats: { physicalPower: 12, health: 100, omnivamp: 4 }, effects: ["Creates ice sheet that slows enemies"] },
            { name: "Imperator", stats: { physicalPower: 55, criticalChance: 20 }, effects: ["Increases critical strike damage"] },
            { name: "Infernum", stats: { physicalPower: 45, physicalPenetration: 5, mana: 200, abilityHaste: 10 }, effects: ["Applies stacks that ignite enemy"] },
            { name: "IronwoodWarbow", stats: { physicalPower: 20, attackSpeed: 15 }, effects: ["Basic attack speed item"] },
            { name: "Judgement", stats: { physicalPower: 12, health: 100, omnivamp: 4 }, effects: ["Deals area damage and heals based on damage"] },
            { name: "Kingsbane", stats: { physicalPower: 45, criticalChance: 25 }, effects: ["Deals bonus damage based on target's missing health"] },
            { name: "Liberator", stats: { physicalPower: 12, attackSpeed: 15, lifesteal: 7 }, effects: ["Cleanse debuffs and gain shield"] },
            { name: "LightningHawk", stats: { physicalPower: 45, attackSpeed: 25, criticalChance: 20 }, effects: ["Empowers next basic attack and slows target"] },
            { name: "Longbow", stats: { attackSpeed: 10 }, effects: ["Basic attack speed item"] },
            { name: "LuckyFeather", stats: { omnivamp: 3 }, effects: ["Increases damage to monsters and grants bonus gold"] },
            { name: "Malady", stats: { physicalPower: 45, physicalPenetration: 10, abilityHaste: 8 }, effects: ["Causes target to explode based on max health"] },
            { name: "Mesmer", stats: { physicalPower: 50, health: 275, physicalPenetration: 8 }, effects: ["Grants spell shield that blocks next ability"] },
            { name: "Mindrazor", stats: { physicalPower: 40, mana: 300, abilityHaste: 15 }, effects: ["Deals splash damage and grants physical power based on mana"] },
            { name: "Mutilator", stats: { physicalPower: 40, abilityHaste: 15, omnivamp: 12 }, effects: ["Deals damage based on target's max health"] },
            { name: "Nightfall", stats: { physicalPower: 45, physicalPenetration: 8, omnivamp: 7 }, effects: ["Abilities heal based on damage dealt to heroes"] },
            { name: "NuclearRounds", stats: { attackSpeed: 40, criticalChance: 20, abilityHaste: 15 }, effects: ["Increases ability damage"] },
            { name: "Omen", stats: { physicalPower: 45, physicalPenetration: 8, abilityHaste: 10 }, effects: ["Empowers next basic attack and reduces cooldowns"] },
            { name: "OnixianQuiver", stats: { attackSpeed: 40, criticalChance: 20, lifesteal: 7 }, effects: ["Fires additional projectiles and increases critical chance"] },
            { name: "Ortus", stats: { physicalPower: 12, physicalPenetration: 5, abilityHaste: 8 }, effects: ["Grants movement speed and physical power on takedowns"] },
            { name: "Overlord", stats: { physicalPower: 40, health: 275 }, effects: ["Deals splash damage and permanently gains health on kills"] },
            { name: "Pacifier", stats: { physicalPower: 12, attackSpeed: 15, lifesteal: 7 }, effects: ["Dash and empower next physical damage instance"] },
            { name: "Painweaver", stats: { physicalPower: 50, physicalPenetration: 8, movementSpeed: 3 }, effects: ["Grants stacking physical penetration and movement speed"] },
            { name: "Penumbra", stats: { physicalPower: 40, health: 200, physicalPenetration: 6, abilityHaste: 20 }, effects: ["Reduces non-ultimate cooldowns"] },
            { name: "PlasmaBlade", stats: { physicalPower: 30, magicalPower: 50, attackSpeed: 25, criticalChance: 20 }, effects: ["Grants stacking critical strike chance"] },
            { name: "RavenousRapier", stats: { physicalPower: 20 }, effects: ["Empowers next basic attack"] },
            { name: "RazorClaw", stats: { attackSpeed: 15, lifesteal: 5 }, effects: ["Basic attack speed and lifesteal item"] },
            { name: "Reckoning", stats: { physicalPower: 35, attackSpeed: 20, physicalPenetration: 7, mana: 300 }, effects: ["Deals bonus damage on hit based on mana"] },
            { name: "Reclamation", stats: { physicalPower: 30, health: 200 }, effects: ["Deals bonus damage to structures"] },
            { name: "RedwoodShortbow", stats: { attackSpeed: 20, abilityHaste: 8 }, effects: ["Basic attack speed and ability haste item"] },
            { name: "Requiem", stats: { physicalPower: 55, physicalPenetration: 12 }, effects: ["Deals execute damage to low health targets"] },
            { name: "Resolution", stats: { physicalPower: 40, attackSpeed: 25 }, effects: ["Increases damage against immobilized targets"] },
            { name: "RobustArbalest", stats: { attackSpeed: 20, criticalChance: 12 }, effects: ["Basic attack speed and critical chance item"] },
            { name: "RuthlessBroadsword", stats: { physicalPower: 25 }, effects: ["Reduces target's physical armor"] },
            { name: "Sabre", stats: { physicalPower: 15 }, effects: ["Basic physical power item"] },
            { name: "Sai", stats: { attackSpeed: 20, physicalPenetration: 4 }, effects: ["Basic attack speed and physical penetration item"] },
            { name: "Salvation", stats: { physicalPower: 40, health: 375, tenacity: 20 }, effects: ["Grants shield and omnivamp"] },
            { name: "SerratedBlade", stats: { physicalPower: 20 }, effects: ["Reduces target's healing"] },
            { name: "Shortsword", stats: { physicalPower: 8 }, effects: ["Basic physical power item"] },
            { name: "SkySplitter", stats: { physicalPower: 35, attackSpeed: 25, lifesteal: 7 }, effects: ["Deals damage based on target's current health"] },
            { name: "Solaris", stats: { physicalPower: 40, criticalChance: 20, mana: 300, abilityHaste: 15 }, effects: ["Empowers next basic attack and heals based on damage"] },
            { name: "SoulChalice", stats: { physicalPower: 12, mana: 150 }, effects: ["Grants physical power based on mana"] },
            { name: "SpearOfDesolation", stats: { physicalPower: 45, physicalPenetration: 9, abilityHaste: 10 }, effects: ["Increases damage and ultimate haste"] },
            { name: "Spectra", stats: { attackSpeed: 40, abilityHaste: 12 }, effects: ["Deals bonus damage on hit and reduces cooldowns"] },
            { name: "SpellSlasher", stats: { abilityHaste: 8 }, effects: ["Empowers next basic attack"] },
            { name: "SpiritShiv", stats: { physicalPower: 15, mana: 200 }, effects: ["Basic physical power and mana item"] },
            { name: "StoneOfStrength", stats: { physicalPower: 20, health: 150 }, effects: ["Basic physical power and health item"] },
            { name: "StormBreaker", stats: { physicalPower: 50, attackSpeed: 35 }, effects: ["Releases chain lightning on empowered basic attack"] },
            { name: "SyonicEecho", stats: { physicalPower: 45, physicalPenetration: 7, abilityHaste: 20, lifesteal: 12 }, effects: ["Grants attack speed and resets basic attack cooldown"] },
            { name: "TaintedBlade", stats: { physicalPower: 40, health: 275, abilityHaste: 15 }, effects: ["Reduces target's healing and increases damage taken"] },
            { name: "TaintedRounds", stats: { physicalPower: 30, attackSpeed: 25, criticalChance: 20 }, effects: ["Reduces target's healing and deals bonus damage based on health"] },
            { name: "TaintedTrident", stats: { physicalPower: 40, physicalPenetration: 5, abilityHaste: 15 }, effects: ["Reduces target's healing and deals bonus damage"] },
            { name: "TectonicMallet", stats: { physicalPower: 50, health: 300 }, effects: ["Deals splash damage and slows targets"] },
            { name: "TemporalRipper", stats: { physicalPower: 20, abilityHaste: 8 }, effects: ["Reduces cooldowns on basic attacks"] },
            { name: "Terminus", stats: { physicalPower: 55, criticalChance: 20, lifesteal: 15 }, effects: ["Converts excess healing into shield"] },
            { name: "ThePerforator", stats: { physicalPower: 40, physicalPenetration: 6, abilityHaste: 15 }, effects: ["Slows targets and ignores portion of armor"] },
            { name: "Tyranny", stats: { physicalPower: 40, health: 400, abilityHaste: 10 }, effects: ["Grants movement speed and ability haste on takedowns"] },
            { name: "Vanquisher", stats: { physicalPower: 45, physicalPenetration: 9, criticalChance: 20 }, effects: ["Executes low health targets"] },
            { name: "Viper", stats: { physicalPower: 30, attackSpeed: 25, physicalPenetration: 6 }, effects: ["Reduces target's physical armor"] },
            { name: "WildHunt", stats: { physicalPower: 20, attackSpeed: 15 }, effects: ["Evolved from Hunt, provides bonus damage to monsters"] },
            { name: "WraithStep", stats: { physicalPower: 25, movementSpeed: 5 }, effects: ["Grants movement speed and phasing"] }
        ];

        // Format stat names for display
        function formatStatName(stat) {
            const statNames = {
                physicalPower: "Physical Power",
                attackSpeed: "Attack Speed",
                criticalChance: "Critical Chance",
                physicalPenetration: "Physical Penetration",
                lifesteal: "Lifesteal",
                abilityHaste: "Ability Haste",
                health: "Health",
                mana: "Mana",
                magicalPower: "Magical Power",
                physicalArmor: "Physical Armor",
                magicalArmor: "Magical Armor",
                baseManaRegeneration: "Mana Regen",
                baseHealthRegeneration: "Health Regen",
                tenacity: "Tenacity",
                omnivamp: "Omnivamp",
                movementSpeed: "Movement Speed",
                healAndShieldPower: "Heal and Shield Power",
                magicalLifesteal: "Magical Lifesteal",
                goldPerSecond: "Gold Per Second"
            };
            
            return statNames[stat] || stat;
        }

        // Populate item selectors
        function populateItemSelectors() {
            const slotSelectors = ['slot1', 'slot2', 'slot3', 'slot4', 'slot5', 'slot6'];
            
            slotSelectors.forEach(slotId => {
                const selector = document.getElementById(slotId);
                
                // Clear existing options except the first one (default "Select Item")
                selector.innerHTML = '<option value="">Select Item</option>';
                
                // Add all items to the selector, sorted alphabetically
                const sortedItems = [...items].sort((a, b) => a.name.localeCompare(b.name));
                sortedItems.forEach(item => {
                    const option = document.createElement('option');
                    option.value = item.name;
                    option.textContent = item.name.replace(/([A-Z])/g, ' $1').trim();
                    selector.appendChild(option);
                });
            });
            
            // Add event listeners to update item stats when selected
            slotSelectors.forEach(slotId => {
                document.getElementById(slotId).addEventListener('change', function() {
                    updateItemStats(slotId, this.value);
                });
            });
            
            // Add event listener for crest slot
            document.getElementById('crest-slot').addEventListener('change', function() {
                updateItemStats('crest-slot', this.value);
            });
            
            // Add event listener for level selector
            document.getElementById('level').addEventListener('change', function() {
                updateLevelStats(this.value);
            });
        }

        // Update item stats display
        function updateItemStats(slotId, itemName) {
            const statsElement = document.getElementById(slotId + '-stats');
            
            if (!itemName) {
                statsElement.innerHTML = '';
                return;
            }
            
            // Find the item
            let item;
            if (slotId === 'crest-slot') {
                // For crest items, we'll create a simple representation
                const crestStats = {
                    WarlockCrest: { magicalPower: 10, abilityHaste: 8 },
                    RogueCrest: { physicalPower: 3, physicalPenetration: 2, abilityHaste: 4 },
                    OccultCrest: { magicalPower: 8, health: 50, abilityHaste: 4 },
                    AssassinCrest: { physicalPower: 6, physicalPenetration: 3, abilityHaste: 6 },
                    SharpshooterCrest: { physicalPower: 8, attackSpeed: 10, lifesteal: 5 },
                    ChampionCrest: { physicalPower: 8, health: 75, omnivamp: 3 },
                    WarriorCrest: { physicalPower: 10, health: 100 },
                    ConsortCrest: { health: 40, baseManaRegeneration: 25, goldPerSecond: 0.25 },
                    MarksmanCrest: { physicalPower: 4, attackSpeed: 5, lifesteal: 3 },
                    GuardianCrest: { health: 40, baseHealthRegeneration: 20, goldPerSecond: 0.25 },
                    TitanCrest: { health: 60, physicalArmor: 4, magicalArmor: 2 },
                    MagicianCrest: { magicalPower: 8, mana: 80, abilityHaste: 4 },
                    WizardCrest: { magicalPower: 12, mana: 100, abilityHaste: 6 },
                    KeeperCrest: { health: 80, baseManaRegeneration: 35, goldPerSecond: 0.35 },
                    WardenCrest: { health: 120, physicalArmor: 8, magicalArmor: 8 },
                    GoliathCrest: { health: 90, physicalArmor: 6, magicalArmor: 3 }
                };
                
                item = {
                    name: itemName,
                    stats: crestStats[itemName] || { physicalPower: 10, abilityHaste: 5 },
                    effects: ["Crest items provide unique bonuses that evolve throughout the match"]
                };
            } else {
                item = items.find(i => i.name === itemName);
            }
            
            if (!item) return;
            
            let statsHTML = '';
            
            // Add stats
            if (item.stats) {
                for (const [stat, value] of Object.entries(item.stats)) {
                    statsHTML += `<div><strong>${formatStatName(stat)}:</strong> ${value}</div>`;
                }
            }
            
            // Add effects
            if (item.effects && item.effects.length > 0) {
                statsHTML += '<div style="margin-top: 10px;"><strong>Effects:</strong><ul style="margin: 5px 0; padding-left: 15px;">';
                item.effects.forEach(effect => {
                    statsHTML += `<li style="margin-bottom: 3px;">${effect}</li>`;
                });
                statsHTML += '</ul></div>';
            }
            
            statsElement.innerHTML = statsHTML;
        }

        // Update level stats display
        function updateLevelStats(level) {
            const statsElement = document.getElementById('level-stats');
            const levelStats = twinblastStats[level];
            
            if (!levelStats) return;
            
            let statsHTML = '';
            
            // Add stats
            for (const [stat, value] of Object.entries(levelStats)) {
                statsHTML += `<div><strong>${formatStatName(stat)}:</strong> ${value}</div>`;
            }
            
            statsElement.innerHTML = statsHTML;
        }

        // Calculate damage function
        function calculateDamage() {
            // This would be the function to calculate all damage values
            // For now, we'll just set some placeholder values
            document.getElementById('physical-power').textContent = '150';
            document.getElementById('attack-speed').textContent = '200%';
            document.getElementById('critical-chance').textContent = '35%';
            document.getElementById('physical-pen').textContent = '15';
            document.getElementById('lifesteal').textContent = '12%';
            document.getElementById('ability-haste').textContent = '25';
            
            document.getElementById('passive-damage').textContent = 'N/A';
            document.getElementById('basic-damage').textContent = '120';
            document.getElementById('grenade-damage').textContent = '250';
            document.getElementById('vaporize-damage').textContent = '210';
            document.getElementById('dash-damage').textContent = '0';
            document.getElementById('ultimate-damage').textContent = '450';
            document.getElementById('onhit-damage').textContent = '75';
            
            document.getElementById('active-effects').innerHTML = `
                <li>Sky Splitter: Dealing bonus damage based on target's current health</li>
                <li>Omen: Empowering next basic attack</li>
            `;
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Populate the item selectors
            populateItemSelectors();
            
            // Update level stats for the default level (18)
            updateLevelStats(18);
        });
    </script>
</body>
</html>