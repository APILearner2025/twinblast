<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Twinblast Damage Calculator</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #fff;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(30, 30, 46, 0.8);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #4cc9f0;
        }
        
        h1 {
            font-size: 2.5rem;
            color: #4cc9f0;
            text-shadow: 0 0 10px rgba(76, 201, 240, 0.5);
            margin-bottom: 10px;
        }
        
        h2 {
            font-size: 1.8rem;
            color: #f72585;
            margin: 20px 0 15px;
        }
        
        h3 {
            font-size: 1.4rem;
            color: #7209b7;
            margin: 15px 0 10px;
        }
        
        .hero-info {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .hero-image {
            width: 100px;
            height: 100px;
            background: linear-gradient(45deg, #4361ee, #3a0ca3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            box-shadow: 0 0 15px rgba(67, 97, 238, 0.7);
        }
        
        .item-slots {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .slot {
            background: rgba(26, 26, 46, 0.8);
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            border: 2px solid #4361ee;
        }
        
        .slot-title {
            font-size: 1.2rem;
            color: #4cc9f0;
            margin-bottom: 10px;
            text-align: center;
        }
        
        select {
            width: 100%;
            padding: 10px;
            border-radius: 5px;
            background: #1a1a2e;
            color: white;
            border: 1px solid #4361ee;
            margin-bottom: 10px;
        }
        
        .item-stats {
            margin-top: 10px;
            font-size: 0.9rem;
            color: #f1faee;
        }
        
        .item-stats div {
            margin-bottom: 5px;
        }
        
        .damage-calculations {
            background: rgba(26, 26, 46, 0.8);
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            border: 2px solid #f72585;
        }
        
        .damage-type {
            margin-bottom: 15px;
            padding: 10px;
            background: rgba(58, 12, 163, 0.2);
            border-radius: 5px;
        }
        
        .damage-value {
            font-size: 1.2rem;
            color: #4cc9f0;
            font-weight: bold;
        }
        
        .ability-desc {
            font-size: 0.9rem;
            color: #a8dadc;
            margin-top: 5px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .stat-card {
            background: rgba(67, 97, 238, 0.2);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.5rem;
            color: #f72585;
            font-weight: bold;
        }
        
        .stat-name {
            font-size: 0.9rem;
            color: #a8dadc;
        }
        
        .effects-list {
            margin-top: 10px;
            padding-left: 20px;
            font-size: 0.9rem;
            color: #f1faee;
        }
        
        .effects-list li {
            margin-bottom: 5px;
        }
        
        .legendary {
            color: gold;
            font-weight: bold;
        }
        
        .update-button {
            display: block;
            width: 100%;
            padding: 15px;
            background: linear-gradient(45deg, #f72585, #b5179e);
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1.2rem;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
        }
        
        .update-button:hover {
            background: linear-gradient(45deg, #b5179e, #f72585);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(247, 37, 133, 0.4);
        }
        
        @media (max-width: 768px) {
            .item-slots {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Twinblast Damage Calculator</h1>
            <div class="hero-info">
                <div class="hero-image">TB</div>
                <div class="hero-description">
                    <p>Calculate Twinblast's damage output with different items and levels</p>
                </div>
            </div>
        </header>
        
        <h2>Item Selection</h2>
        <div class="item-slots">
            <div class="slot">
                <div class="slot-title">Crest Slot</div>
                <select id="crest-slot">
                    <option value="">Select Crest</option>
                    <option value="WarlockCrest">Warlock Crest</option>
                    <option value="RogueCrest">Rogue Crest</option>
                    <option value="OccultCrest">Occult Crest</option>
                    <option value="AssassinCrest">Assassin Crest</option>
                    <option value="SharpshooterCrest">Sharpshooter Crest</option>
                    <option value="ChampionCrest">Champion Crest</option>
                    <option value="WarriorCrest">Warrior Crest</option>
                    <option value="ConsortCrest">Consort Crest</option>
                    <option value="MarksmanCrest">Marksman Crest</option>
                    <option value="GuardianCrest">Guardian Crest</option>
                    <option value="TitanCrest">Titan Crest</option>
                    <option value="MagicianCrest">Magician Crest</option>
                    <option value="WizardCrest">Wizard Crest</option>
                    <option value="KeeperCrest">Keeper Crest</option>
                    <option value="WardenCrest">Warden Crest</option>
                    <option value="GoliathCrest">Goliath Crest</option>
                </select>
                <div class="item-stats" id="crest-stats"></div>
            </div>
            
            <div class="slot">
                <div class="slot-title">Slot Option 1</div>
                <select id="slot1">
                    <option value="">Select Item</option>
                    <!-- Items will be populated by JavaScript -->
                </select>
                <div class="item-stats" id="slot1-stats"></div>
            </div>
            
            <div class="slot">
                <div class="slot-title">Slot Option 2</div>
                <select id="slot2">
                    <option value="">Select Item</option>
                    <!-- Items will be populated by JavaScript -->
                </select>
                <div class="item-stats" id="slot2-stats"></div>
            </div>
            
            <div class="slot">
                <div class="slot-title">Slot Option 3</div>
                <select id="slot3">
                    <option value="">Select Item</option>
                    <!-- Items will be populated by JavaScript -->
                </select>
                <div class="item-stats" id="slot3-stats"></div>
            </div>
            
            <div class="slot">
                <div class="slot-title">Slot Option 4</div>
                <select id="slot4">
                    <option value="">Select Item</option>
                    <!-- Items will be populated by JavaScript -->
                </select>
                <div class="item-stats" id="slot4-stats"></div>
            </div>
            
            <div class="slot">
                <div class="slot-title">Slot Option 5</div>
                <select id="slot5">
                    <option value="">Select Item</option>
                    <!-- Items will be populated by JavaScript -->
                </select>
                <div class="item-stats" id="slot5-stats"></div>
            </div>
            
            <div class="slot">
                <div class="slot-title">Slot Option 6</div>
                <select id="slot6">
                    <option value="">Select Item</option>
                    <!-- Items will be populated by JavaScript -->
                </select>
                <div class="item-stats" id="slot6-stats"></div>
            </div>
            
            <div class="slot">
                <div class="slot-title">Level</div>
                <select id="level">
                    <option value="1">Level 1</option>
                    <option value="2">Level 2</option>
                    <option value="3">Level 3</option>
                    <option value="4">Level 4</option>
                    <option value="5">Level 5</option>
                    <option value="6">Level 6</option>
                    <option value="7">Level 7</option>
                    <option value="8">Level 8</option>
                    <option value="9">Level 9</option>
                    <option value="10">Level 10</option>
                    <option value="11">Level 11</option>
                    <option value="12">Level 12</option>
                    <option value="13">Level 13</option>
                    <option value="14">Level 14</option>
                    <option value="15">Level 15</option>
                    <option value="16">Level 16</option>
                    <option value="17">Level 17</option>
                    <option value="18" selected>Level 18</option>
                </select>
                <div class="item-stats" id="level-stats"></div>
            </div>
        </div>
        
        <button class="update-button" onclick="calculateDamage()">Calculate Damage</button>
        
        <div class="damage-calculations">
            <h2>Damage Calculations</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="physical-power">0</div>
                    <div class="stat-name">Physical Power</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="attack-speed">0%</div>
                    <div class="stat-name">Attack Speed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="critical-chance">0%</div>
                    <div class="stat-name">Critical Chance</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="physical-pen">0</div>
                    <div class="stat-name">Physical Penetration</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="lifesteal">0%</div>
                    <div class="stat-name">Lifesteal</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="ability-haste">0</div>
                    <div class="stat-name">Ability Haste</div>
                </div>
            </div>
            
            <h3>Active Effects from Items</h3>
            <ul class="effects-list" id="active-effects">
                <li>No active effects</li>
            </ul>
            
            <h3>Ability Damage</h3>
            
            <div class="damage-type">
                <h4>Passive: Quick Draw</h4>
                <div class="damage-value" id="passive-damage">0</div>
                <div class="ability-desc">After using an ability, next basic attack fires 2 additional shots</div>
            </div>
            
            <div class="damage-type">
                <h4>Basic Attack</h4>
                <div class="damage-value" id="basic-damage">0</div>
                <div class="ability-desc">Standard auto-attack damage</div>
            </div>
            
            <div class="damage-type">
                <h4>Alternate: Grenade</h4>
                <div class="damage-value" id="grenade-damage">0</div>
                <div class="ability-desc">AOE explosion on impact</div>
            </div>
            
            <div class="damage-type">
                <h4>Primary: Rapid Fire</h4>
                <div class="damage-value" id="rapidfire-damage">0</div>
                <div class="ability-desc">Rapidly fire multiple shots</div>
            </div>
            
            <div class="damage-type">
                <h4>Secondary: Rocket Dash</h4>
                <div class="damage-value" id="dash-damage">0</div>
                <div class="ability-desc">Dash forward and fire rockets behind</div>
            </div>
            
            <div class="damage-type">
                <h4>Ultimate: Barrage</h4>
                <div class="damage-value" id="ultimate-damage">0</div>
                <div class="ability-desc">Unleash a massive barrage of missiles</div>
            </div>
            
            <div class="damage-type">
                <h4>On-Hit Effects</h4>
                <div class="damage-value" id="onhit-damage">0</div>
                <div class="ability-desc">Total additional damage from on-hit effects</div>
            </div>
        </div>
    </div>

    <script>
        // Twinblast base stats per level
        const twinblastStats = {
            1: { physicalPower: 52, attackSpeed: 0, criticalChance: 0, physicalPenetration: 0, lifesteal: 0, abilityHaste: 0 },
            2: { physicalPower: 55, attackSpeed: 5, criticalChance: 0, physicalPenetration: 0, lifesteal: 0, abilityHaste: 0 },
            3: { physicalPower: 59, attackSpeed: 10, criticalChance: 0, physicalPenetration: 0, lifesteal: 0, abilityHaste: 0 },
            4: { physicalPower: 64, attackSpeed: 15, criticalChance: 0, physicalPenetration: 0, lifesteal: 0, abilityHaste: 0 },
            5: { physicalPower: 70, attackSpeed: 20, criticalChance: 0, physicalPenetration: 0, lifesteal: 0, abilityHaste: 0 },
            6: { physicalPower: 77, attackSpeed: 25, criticalChance: 0, physicalPenetration: 0, lifesteal: 0, abilityHaste: 0 },
            7: { physicalPower: 85, attackSpeed: 30, criticalChance: 0, physicalPenetration: 0, lifesteal: 0, abilityHaste: 0 },
            8: { physicalPower: 94, attackSpeed: 35, criticalChance: 0, physicalPenetration: 0, lifesteal: 0, abilityHaste: 0 },
            9: { physicalPower: 104, attackSpeed: 40, criticalChance: 0, physicalPenetration: 0, lifesteal: 0, abilityHaste: 0 },
            10: { physicalPower: 115, attackSpeed: 45, criticalChance: 0, physicalPenetration: 0, lifesteal: 0, abilityHaste: 0 },
            11: { physicalPower: 127, attackSpeed: 50, criticalChance: 0, physicalPenetration: 0, lifesteal: 0, abilityHaste: 0 },
            12: { physicalPower: 140, attackSpeed: 55, criticalChance: 0, physicalPenetration: 0, lifesteal: 0, abilityHaste: 0 },
            13: { physicalPower: 154, attackSpeed: 60, criticalChance: 0, physicalPenetration: 0, lifesteal: 0, abilityHaste: 0 },
            14: { physicalPower: 169, attackSpeed: 65, criticalChance: 0, physicalPenetration: 0, lifesteal: 0, abilityHaste: 0 },
            15: { physicalPower: 185, attackSpeed: 70, criticalChance: 0, physicalPenetration: 0, lifesteal: 0, abilityHaste: 0 },
            16: { physicalPower: 202, attackSpeed: 75, criticalChance: 0, physicalPenetration: 0, lifesteal: 0, abilityHaste: 0 },
            17: { physicalPower: 220, attackSpeed: 80, criticalChance: 0, physicalPenetration: 0, lifesteal: 0, abilityHaste: 0 },
            18: { physicalPower: 239, attackSpeed: 85, criticalChance: 0, physicalPenetration: 0, lifesteal: 0, abilityHaste: 0 }
        };

        // Ability scaling factors
        const abilityScaling = {
            passive: 0.3,  // 30% of physical power
            basic: 1.0,    // 100% of physical power
            grenade: 0.7,  // 70% of physical power
            rapidfire: 0.4, // 40% of physical power per shot (6 shots)
            dash: 0.5,     // 50% of physical power per rocket (2 rockets)
            ultimate: 0.8  // 80% of physical power per missile (10 missiles)
        };

        // Base ability damages
        const baseDamage = {
            passive: 10,
            basic: 60,
            grenade: 80,
            rapidfire: 20,
            dash: 50,
            ultimate: 40
        };

        // Sample items data (abbreviated for demonstration)
        const items = [
            { name: "ZealousTomahawk", stats: { physicalPower: 20 }, effects: ["Ignore 18% of Physical Armor"] },
            { name: "Entropy", stats: { magicalPower: 65, mana: 400, abilityHaste: 15 }, effects: ["Deal 3 (+3% Magical Power) additional Damage"] },
            { name: "BerserkersAxe", stats: { physicalPower: 40, health: 300, abilityHaste: 15, movementSpeed: 3 }, effects: ["Empower next Basic Attack to deal 50 (+40% Physical Power) Damage", "Gain 15% Movement Speed for 1.5s"] },
            { name: "Solaris", stats: { physicalPower: 40, criticalChance: 20, mana: 300, abilityHaste: 15 }, effects: ["Empower next Basic Attack to deal 45 (+30% Physical Power) Damage On-Hit", "Can Critically Strike", "Heals for 65% of damage dealt"] },
            { name: "Demolisher", stats: { physicalPower: 35, criticalChance: 20 }, effects: ["Ignore 25% of Physical Armor", "Basic Attacks and Critical Strikes ignore 30% of Bonus Physical Armor"] },
            { name: "Vanquisher", stats: { physicalPower: 45, physicalPenetration: 9, criticalChance: 20 }, effects: ["Execute enemies below a health threshold"] },
            { name: "Imperator", stats: { physicalPower: 55, criticalChance: 20 }, effects: ["Critical Strikes deal 30% more damage"] },
            { name: "Deathstalker", stats: { physicalPower: 40, physicalPenetration: 5, attackSpeed: 25 }, effects: ["Shred 3 Physical Armor for 3s", "Gain 100% Attack Speed at max stacks"] },
            { name: "Painweaver", stats: { physicalPower: 50, physicalPenetration: 8, movementSpeed: 3 }, effects: ["Gain 2 Physical Penetration and 2.5% Movement Speed for 4s on hit", "Stacks up to 4 times"] },
            { name: "Ashbringer", stats: { physicalPower: 40, attackSpeed: 25, criticalChance: 20, abilityHaste: 10 }, effects: ["Decrease current Non-Ultimate Cooldowns by 12% On-Hit"] },
            { name: "StormBreaker", stats: { physicalPower: 40, attackSpeed: 35 }, effects: ["At 100 stacks empower next Basic Attack to release chain lightning"] },
            { name: "Omen", stats: { physicalPower: 45, physicalPenetration: 8, abilityHaste: 10 }, effects: ["At 100 stacks empower next Basic Attack and reduce Non-Ultimate Cooldowns by 25%"] },
            { name: "SkySplitter", stats: { physicalPower: 35, attackSpeed: 25, lifesteal: 7 }, effects: ["Deal 5.5% of Target's Current Health as Damage On-Hit"] },
            { name: "OnixianQuiver", stats: { attackSpeed: 40, criticalChance: 20, lifesteal: 7 }, effects: ["Fire 2 additional projectiles dealing 10-40% damage", "Increase Total Critical Strike Chance by 25%"] },
            { name: "NuclearRounds", stats: { attackSpeed: 40, criticalChance: 20, abilityHaste: 15 }, effects: ["Increase Ability Damage by 10-20%"] },
            { name: "TaintedRounds", stats: { physicalPower: 30, attackSpeed: 25, criticalChance: 20 }, effects: ["Reduce Healing by 45% for 3s", "Deal additional On-Hit damage scaling with target's missing health"] }
        ];

        // Populate item selectors
        function populateItemSelectors() {
            const slotSelectors = ['slot1', 'slot2', 'slot3', 'slot4', 'slot5', 'slot6'];
            
            slotSelectors.forEach(slotId => {
                const selector = document.getElementById(slotId);
                
                // Add all items to the selector
                items.forEach(item => {
                    const option = document.createElement('option');
                    option.value = item.name;
                    option.textContent = item.name;
                    selector.appendChild(option);
                });
            });
            
            // Add event listeners to update item stats when selected
            slotSelectors.forEach(slotId => {
                document.getElementById(slotId).addEventListener('change', function() {
                    updateItemStats(this.id, this.value);
                });
            });
            
            // Add event listener for crest slot
            document.getElementById('crest-slot').addEventListener('change', function() {
                updateItemStats(this.id, this.value);
            });
        }

        // Update item stats display
        function updateItemStats(slotId, itemName) {
            const statsElement = document.getElementById(slotId + '-stats');
            
            if (!itemName) {
                statsElement.innerHTML = '';
                return;
            }
            
            // Find the item
            let item;
            if (slotId === 'crest-slot') {
                // For crest items, we'll create a simple representation
                item = {
                    name: itemName,
                    stats: { physicalPower: 10, abilityHaste: 5 },
                    effects: ["Crest items provide unique bonuses that evolve throughout the match"]
                };
            } else {
                item = items.find(i => i.name === itemName);
            }
            
            if (!item) return;
            
            let statsHTML = '';
            
            // Add stats
            if (item.stats) {
                for (const [stat, value] of Object.entries(item.stats)) {
                    statsHTML += `<div>${formatStatName(stat)}: ${value}</div>`;
                }
            }
            
            // Add effects
            if (item.effects && item.effects.length > 0) {
                statsHTML += '<div class="effects"><strong>Effects:</strong><ul>';
                item.effects.forEach(effect => {
                    statsHTML += `<li>${effect}</li>`;
                });
                statsHTML += '</ul></div>';
            }
            
            statsElement.innerHTML = statsHTML;
        }

        // Format stat names for display
        function formatStatName(stat) {
            const statMap = {
                physicalPower: "Physical Power",
                magicalPower: "Magical Power",
                attackSpeed: "Attack Speed",
                criticalChance: "Critical Chance",
                physicalPenetration: "Physical Pen",
                lifesteal: "Lifesteal",
                abilityHaste: "Ability Haste",
                health: "Health",
                mana: "Mana",
                movementSpeed: "Movement Speed"
            };
            
            return statMap[stat] || stat;
        }

        // Calculate damage based on selected items and level
        function calculateDamage() {
            const level = parseInt(document.getElementById('level').value);
            const crestItem = document.getElementById('crest-slot').value;
            const slot1Item = document.getElementById('slot1').value;
            const slot2Item = document.getElementById('slot2').value;
            const slot3Item = document.getElementById('slot3').value;
            const slot4Item = document.getElementById('slot4').value;
            const slot5Item = document.getElementById('slot5').value;
            const slot6Item = document.getElementById('slot6').value;
            
            // Get base stats for the level
            const baseStats = twinblastStats[level];
            
            // Initialize total stats with base values
            const totalStats = {
                physicalPower: baseStats.physicalPower,
                attackSpeed: baseStats.attackSpeed,
                criticalChance: baseStats.criticalChance,
                physicalPenetration: baseStats.physicalPenetration,
                lifesteal: baseStats.lifesteal,
                abilityHaste: baseStats.abilityHaste
            };
            
            // Collect active effects
            const activeEffects = [];
            
            // Add stats from items
            const selectedItems = [crestItem, slot1Item, slot2Item, slot3Item, slot4Item, slot5Item, slot6Item];
            
            selectedItems.forEach(itemName => {
                if (!itemName) return;
                
                let item;
                if (itemName === crestItem) {
                    // For crest items, we'll create a simple representation
                    item = {
                        stats: { physicalPower: 10, abilityHaste: 5 },
                        effects: ["Crest items provide unique bonuses that evolve throughout the match"]
                    };
                } else {
                    item = items.find(i => i.name === itemName);
                }
                
                if (!item) return;
                
                // Add stats
                if (item.stats) {
                    for (const [stat, value] of Object.entries(item.stats)) {
                        if (totalStats[stat] !== undefined) {
                            totalStats[stat] += value;
                        }
                    }
                }
                
                // Add effects
                if (item.effects) {
                    item.effects.forEach(effect => {
                        activeEffects.push(effect);
                    });
                }
            });
            
            // Update stat displays
            document.getElementById('physical-power').textContent = totalStats.physicalPower;
            document.getElementById('attack-speed').textContent = totalStats.attackSpeed + '%';
            document.getElementById('critical-chance').textContent = totalStats.criticalChance + '%';
            document.getElementById('physical-pen').textContent = totalStats.physicalPenetration;
            document.getElementById('lifesteal').textContent = totalStats.lifesteal + '%';
            document.getElementById('ability-haste').textContent = totalStats.abilityHaste;
            
            // Update active effects
            const effectsList = document.getElementById('active-effects');
            effectsList.innerHTML = '';
            
            if (activeEffects.length === 0) {
                effectsList.innerHTML = '<li>No active effects</li>';
            } else {
                activeEffects.forEach(effect => {
                    const li = document.createElement('li');
                    li.textContent = effect;
                    effectsList.appendChild(li);
                });
            }
            
            // Calculate ability damages
            const passiveDamage = Math.round(baseDamage.passive + (totalStats.physicalPower * abilityScaling.passive));
            const basicDamage = Math.round(baseDamage.basic + (totalStats.physicalPower * abilityScaling.basic));
            const grenadeDamage = Math.round(baseDamage.grenade + (totalStats.physicalPower * abilityScaling.grenade));
            const rapidfireDamage = Math.round((baseDamage.rapidfire + (totalStats.physicalPower * abilityScaling.rapidfire)) * 6); // 6 shots
            const dashDamage = Math.round((baseDamage.dash + (totalStats.physicalPower * abilityScaling.dash)) * 2); // 2 rockets
            const ultimateDamage = Math.round((baseDamage.ultimate + (totalStats.physicalPower * abilityScaling.ultimate)) * 10); // 10 missiles
            
            // Estimate on-hit damage (simplified)
            const onHitDamage = Math.round(totalStats.physicalPower * 0.15);
            
            // Update damage displays
            document.getElementById('passive-damage').textContent = passiveDamage;
            document.getElementById('basic-damage').textContent = basicDamage;
            document.getElementById('grenade-damage').textContent = grenadeDamage;
            document.getElementById('rapidfire-damage').textContent = rapidfireDamage;
            document.getElementById('dash-damage').textContent = dashDamage;
            document.getElementById('ultimate-damage').textContent = ultimateDamage;
            document.getElementById('onhit-damage').textContent = onHitDamage;
        }

        // Initialize the page
        window.onload = function() {
            populateItemSelectors();
            calculateDamage(); // Calculate with default values
            
            // Add event listener to level selector
            document.getElementById('level').addEventListener('change', calculateDamage);
        };
    </script>
</body>
</html>